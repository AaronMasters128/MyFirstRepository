package SharedSteps;

import org.openqa.selenium.*;
import java.util.List;

public class Login extends Browser
{
		
		
	// Set Login Credentials
		public String EmailAddress;
		public String Password;
		public String NameOfUser;
		
			public static void navigateToSignIn()
			{
				// Navigate to the Sign In screen by clicking on the Sign In button
				WebElement SignInScreen = driver.findElement(By.cssSelector("a.login"));
				builder.moveToElement(SignInScreen)
					.click()
					.build()
					.perform();				
			}
			
			private boolean existsElement(String id)
			{
				try {
					driver.findElement(By.xpath("//*[@class='account']"));
				}	catch (NoSuchElementException e)
				{
					return false;
				}
				return true;
			}
						
			public static void signOutIfIncorrectUser()
			{
				// Check if Sign Out Element exists
				// Check if current user is required user
				
				List<WebElement> SignedIn = driver.findElements(By.cssSelector("a.logout"));	
				int elementExists = SignedIn.size();
				if(elementExists!=0)
					{
						String currentUser = driver.findElement(By.xpath("//*[@class='account']/span")).getText();
						System.out.println("I am logged in as : "+currentUser); 
					}
			
			}
			
			public static void signOut()
			{
				// Navigate to the Sign In screen by clicking on the Sign In button
				WebElement SignOutButton = driver.findElement(By.cssSelector("a.logout"));
				builder.moveToElement(SignOutButton)
					.click()
					.build()
					.perform();		
			}
			
		
			public void SignIn()
			{
				// Get locations of Sign In elements
				WebElement username = driver.findElement(By.name("email"));
				WebElement password = driver.findElement(By.name("passwd"));
				WebElement SignInButton = driver.findElement(By.id("SubmitLogin"));

				// Enter username and password then click Login or Submit Login
				username.sendKeys(EmailAddress);
				password.sendKeys(Password);
				SignInButton.click();
			}
}
